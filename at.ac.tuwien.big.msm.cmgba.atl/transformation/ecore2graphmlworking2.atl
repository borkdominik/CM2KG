-- @path graphml=/at.ac.tuwien.big.msm.cmgba.graphml/model/graphml.ecore
-- @nsURI ecore=http://www.eclipse.org/emf/2002/Ecore

module ecore2graphmlworking2;
create OUT : graphml from IN : ecore;

rule r1{
	from s:ecore!EPackage, s1:ecore!EPackage
	to t:  graphml!GraphML(
	graph <- s1
	)
}

rule r2{
	from s:ecore!EPackage
	to t:graphml!Graph(
		nodes <- s.eClassifiers->select(e | e.oclIsTypeOf(ecore!EClass)) 
		)
}

rule r3{
	from s:ecore!EClass
	to t:graphml!Node(
		)
}